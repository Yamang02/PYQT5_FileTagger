## 개발 요청 명세 (Development Request Specification)

*   **문서 ID**: `DRS-20250711-001`
*   **작성일**: `2025년 07월 11일`
*   **작성자**: `Gemini (PM)`
*   **관련 기능/모듈**: `UI/UX 개선, 파일 관리, 디렉토리 뷰`
*   **관련 이슈**: `N/A`

---

### 1. 개요 (Overview)

*   이 개발 요청의 목적은 FileTagger 애플리케이션의 디렉토리 뷰(좌측 트리 뷰)의 사용성을 향상시키는 것입니다. 현재 디렉토리 뷰는 폴더만 표시하여 사용자가 파일의 위치를 파악하거나 특정 파일을 찾기 위해 중앙 파일 리스트 섹션에만 의존해야 하는 불편함이 있습니다.
*   이 기능을 통해 사용자는 디렉토리 뷰에서 폴더와 함께 파일을 직접 확인할 수 있게 되어, 파일 탐색의 직관성을 높이고 워크스페이스(루트)를 포함한 전체 디렉토리 구조를 한눈에 파악할 수 있게 됩니다. 또한, 기존 확장자 검색 필드의 위치를 조정하고, 파일 표시 여부를 제어하는 옵션을 제공하여 UI의 효율성을 개선합니다.
*   이 기능은 사용자가 파일을 보다 빠르고 효율적으로 찾고 관리할 수 있도록 지원하며, 전체 시스템의 파일 탐색 경험을 개선하는 데 중요한 역할을 합니다.

### 2. 요구사항 (Requirements)

*   **2.1. 기능 요구사항 (Functional Requirements)**
    *   **DRS-20250711-001-FR-001**: 사용자는 디렉토리 뷰(좌측 트리 뷰)에서 폴더뿐만 아니라 해당 폴더 내의 파일도 함께 볼 수 있어야 한다.
    *   **DRS-20250711-001-FR-002**: 사용자는 디렉토리 뷰에서 현재 설정된 워크스페이스(루트 디렉토리)를 선택할 수 있어야 한다. (기존에는 하위 디렉토리만 선택 가능했음)
    *   **DRS-20250711-001-FR-003**: 디렉토리 뷰에 파일 표시 여부를 토글할 수 있는 옵션(예: 체크박스)이 제공되어야 한다. 이 옵션은 사용자가 디렉토리 뷰의 복잡도를 조절할 수 있도록 한다.
    *   **DRS-20250711-001-FR-004**: 기존의 확장자 검색 필드는 태그 검색 필드 바로 아래로 이동해야 한다.
    *   **DRS-20250711-001-FR-005**: 파일 표시 옵션(DRS-20250711-001-FR-003)은 기존 확장자 검색 필드가 있던 자리에 위치해야 한다.
    *   **DRS-20250711-001-FR-006**: 디렉토리 뷰에 표시되는 파일 목록은 중앙 파일 리스트 섹션의 파일 목록 로직(예: 필터링, 정렬)과 일관성을 유지해야 한다. (단, 중앙 리스트의 상세 정보 표시는 디렉토리 뷰에 적용하지 않음)
    *   **DRS-20250711-001-FR-007**: 디렉토리 뷰에서 파일을 클릭하면 중앙 파일 리스트 섹션에서 해당 파일이 선택되고 상세 정보가 표시되어야 한다.

*   **2.2. 비기능 요구사항 (Non-Functional Requirements)**
    *   **DRS-20250711-001-NFR-001 (성능)**: 대량의 파일(예: 10,000개 이상)이 포함된 디렉토리에서도 디렉토리 뷰의 로딩 시간 및 스크롤 성능이 사용자에게 불편함을 주지 않아야 한다.
    *   **DRS-20250711-001-NFR-002 (사용성)**: UI 변경 사항은 직관적이어야 하며, 기존 사용자에게 혼란을 주지 않아야 한다. 새로운 옵션의 기능은 명확하게 인지되어야 한다.
    *   **DRS-20250711-001-NFR-003 (확장성)**: 향후 디렉토리 뷰에 추가적인 필터링 또는 표시 옵션이 도입될 경우를 고려하여 유연하게 확장 가능한 구조로 구현되어야 한다.

### 3. UI/UX 설계 (User Interface / User Experience Design)

*   **현재 UI (가정)**:
    *   좌측 패널: 디렉토리 트리 뷰 (폴더만 표시), 그 아래에 태그 검색 필드, 확장자 검색 필드, 하위 폴더 포함 체크박스.
    *   중앙 패널: 파일 리스트.
*   **변경될 UI 레이아웃**:
    *   **좌측 패널**:
        *   **디렉토리 트리 뷰**: 폴더와 함께 파일이 계층적으로 표시된다. 파일은 폴더와 구분되는 아이콘(예: 파일 아이콘)으로 표시된다. 워크스페이스(루트) 노드도 선택 가능하도록 활성화된다.
        *   **태그 검색 필드**: 현재 위치 유지.
        *   **확장자 검색 필드**: 태그 검색 필드 바로 아래로 이동.
        *   **파일 표시 옵션**: 기존 확장자 검색 필드 자리에 "디렉토리 뷰에 파일 표시" 체크박스 형태로 추가.
        *   **하위 폴더 포함 체크박스**: 현재 위치 유지.
*   **각 UI 요소의 동작 방식**:
    *   **"디렉토리 뷰에 파일 표시" 체크박스**:
        *   체크 시: 디렉토리 뷰에 폴더와 파일이 모두 표시된다.
        *   체크 해제 시: 디렉토리 뷰에 폴더만 표시된다 (기존 동작).
    *   **디렉토리 뷰 내 파일 클릭**: 해당 파일이 중앙 파일 리스트에서 선택되고, 파일 상세 정보가 업데이트된다.

### 4. 기술적 고려사항 (Technical Considerations)

*   **아키텍처 영향**:
    *   `widgets/directory_tree_widget.py`의 로직 수정이 필요하다. 파일 시스템을 탐색하고 트리에 노드를 추가하는 방식이 폴더뿐만 아니라 파일도 포함하도록 확장되어야 한다.
    *   `main_window.py` 또는 관련 UI 로직에서 확장자 검색 필드와 새로운 파일 표시 옵션의 위치를 조정해야 한다.
    *   중앙 파일 리스트(`widgets/file_list_widget.py`)와의 데이터 동기화 및 이벤트 처리를 위한 연동 로직이 강화되어야 한다.
*   **데이터 모델 변경**: 없음.
*   **외부 시스템 연동**: 없음.
*   **성능 최적화**:
    *   대량의 파일이 있는 디렉토리의 경우, 모든 파일을 즉시 로드하는 대신 필요에 따라 지연 로딩(Lazy Loading) 또는 가상화(Virtualization) 기법을 고려하여 UI 응답성을 유지해야 한다.
    *   파일 시스템 접근 시 I/O 성능을 최적화하기 위한 방안을 모색해야 한다. (예: 백그라운드 스레드에서 파일 탐색)
*   **재사용 가능한 컴포넌트**: 기존 `directory_tree_widget`의 확장성을 고려하여 재사용 가능한 형태로 구현한다.

### 5. 테스트 시나리오 (Test Scenarios)

*   **DRS-20250711-001-TS-001**: "디렉토리 뷰에 파일 표시" 체크박스를 토글했을 때 디렉토리 뷰의 파일 표시 여부가 올바르게 변경되는지 확인.
*   **DRS-20250711-001-TS-002**: 파일이 많은 디렉토리(예: 10,000개 파일)를 선택했을 때 디렉토리 뷰의 로딩 시간 및 스크롤 성능이 허용 가능한 수준인지 확인.
*   **DRS-20250711-001-TS-003**: 워크스페이스(루트)를 디렉토리 뷰에서 선택했을 때, 중앙 파일 리스트에 해당 워크스페이스의 파일들이 올바르게 표시되는지 확인.
*   **DRS-20250711-001-TS-004**: 확장자 검색 필드에 값을 입력했을 때, 디렉토리 뷰와 중앙 파일 리스트 모두에서 해당 확장자의 파일만 필터링되어 표시되는지 확인.
*   **DRS-20250711-001-TS-005**: 디렉토리 뷰에서 파일을 클릭했을 때, 중앙 파일 리스트에서 해당 파일이 선택되고 상세 정보가 올바르게 업데이트되는지 확인.
*   **DRS-20250711-001-TS-006**: "하위 폴더 포함" 체크박스와 "디렉토리 뷰에 파일 표시" 옵션이 함께 작동할 때의 동작을 확인.

### 6. 기타 (Miscellaneous)

*   UI 변경 시, 기존 사용자 경험을 해치지 않도록 미세한 조정이 필요할 수 있습니다.
*   성능 최적화는 개발 과정에서 지속적으로 모니터링하고 필요에 따라 추가적인 개선 방안을 모색해야 합니다.
*   이 DRS는 개발팀과의 추가 논의를 통해 세부 사항이 변경될 수 있습니다.
